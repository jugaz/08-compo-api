{"version":3,"file":"js/Friends.276b3256.js","mappings":"2OAOSA,EAAAA,EAAAA,GAAI,mB,WACyC,c,+DAPxCC,EAAAA,SAAYA,EAAAA,aACNA,EAAAA,eAAAA,EAAAA,EAAAA,OAAjBC,EAAAA,EAAAA,IAAsD,KAAAC,GAAAC,EAAAA,EAAAA,IAApBH,EAAAA,cAAY,MAA9C,WAEAC,EAAAA,EAAAA,IAKWG,EAAAA,GAAA,CAAAC,IAAAA,GAAA,EAJLN,EAAAA,EAAAA,GAA2B,WAAAI,EAAAA,EAAAA,IAApBH,EAAAA,QAAQM,MAAI,IACnBP,EAAAA,EAAAA,GAA6C,OAAvCQ,IAAKP,EAAAA,QAAQQ,IAAMC,IAAKT,EAAAA,QAAQM,MAAtC,UACAI,GACAC,EAAAA,EAAAA,IAAqEC,EAAA,CAAvDC,GAAI,CAAAP,KAAAA,mBAAyB,C,kBAAE,IAAU,M,OAJ7D,OAHuBN,EAAAA,EAAAA,OAAvBC,EAAAA,EAAAA,IAAsD,KAAAa,EAAjB,iB,0CCCxC,MAAMC,EAAa,CAAEC,EAAY,OAE7B,MAAMC,GAAUC,EAAAA,EAAAA,MACVC,GAAYD,EAAAA,EAAAA,KAAI,GAChBE,GAAeF,EAAAA,EAAAA,MAGfG,EAAgBC,UAClB,GAAMC,EAAN,CAEAJ,EAAUK,OAAQ,EAClBP,EAAQO,MAAQ,KAEhB,IAGI,MAAO,KAAEC,SAAeC,IAAAA,IAAW,sDAAqDH,UACxFN,EAAQO,MAAQC,EAChBL,EAAaI,MAAQ,KAGvB,MAAOG,GACLP,EAAaI,MAAQ,qBAIzBL,EAAUK,OAAQ,IAMtB,OAHAH,EAAeL,GAGR,CACHI,eACAH,UACAE,YAEAE,kBAMR,QDxBA,GAEGO,QACG,MAAMC,GAAQC,EAAAA,EAAAA,OAER,aACHV,EADG,QAEHH,EAFG,UAGHE,EAHG,cAIHE,GACCN,EAAWc,EAAME,OAAOR,IAa5B,OAXAS,EAAAA,EAAAA,KAAmB,KAChB,MAAMC,EAASC,OAAOC,QAAQ,iCAE9B,IAAKF,EAAS,OAAO,MAGxBG,EAAAA,EAAAA,KACG,IAAMP,EAAME,OAAOR,KACnB,IAAOF,EAAcQ,EAAME,OAAOR,MAG9B,CACJH,eACAH,UACAE,e,QE1CT,MAAMkB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://08-compo-api/./src/views/Friends.vue","webpack://08-compo-api/./src/composables/useFriends.js","webpack://08-compo-api/./src/views/Friends.vue?65dd"],"sourcesContent":["<template>\r\n   <h1 v-if=\"!friends && !errorMessage\"> Buscando...</h1>\r\n   <h1 v-else-if = \"errorMessage\">{{ errorMessage }}</h1>\r\n\r\n   <template v-else>\r\n         <h3>{{ friends.name }}</h3>\r\n         <img :src=\"friends.url\" :alt=\"friends.name\" >\r\n         <br>\r\n         <router-link :to=\"{ name: 'friends-search'}\"> regresar </router-link>\r\n   </template>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport { watch } from 'vue'\r\nimport { useRoute, onBeforeRouteLeave } from 'vue-router'\r\nimport useFriends from '@/composables/useFriends'\r\n\r\n\r\nexport default {\r\n\r\n   setup() {\r\n      const route = useRoute()\r\n\r\n      const { \r\n         errorMessage,\r\n         friends,\r\n         isLoading,\r\n         searchFriends\r\n      } = useFriends(route.params.id)\r\n\r\n      onBeforeRouteLeave(() => {\r\n         const answer = window.confirm('¿Está seguro que desea salir?')\r\n\r\n         if( !answer ) return false // false, bloquea la salida\r\n\r\n      })\r\n      watch(\r\n         () => route.params.id,\r\n         () =>  searchFriends(route.params.id)\r\n      )\r\n\r\n      return {\r\n         errorMessage,\r\n         friends,\r\n         isLoading,\r\n      }\r\n   }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import axios from 'axios'\r\nimport { ref } from 'vue'\r\nconst useFriends = ( friendsId = '1' ) => {\r\n\r\n    const friends = ref()\r\n    const isLoading = ref(false)\r\n    const errorMessage = ref()\r\n\r\n\r\n    const searchFriends = async( id ) => {\r\n        if ( !id ) return\r\n\r\n        isLoading.value = true\r\n        friends.value = null\r\n        \r\n        try {\r\n            //https://jugaz.github.io/series-tv-api/json/friends/1.json\r\n\r\n            const  { data } = await axios.get(`https://jugaz.github.io/series-tv-api/json/friends/${id}.json`)\r\n            friends.value = data \r\n            errorMessage.value = null\r\n\r\n            \r\n        } catch (error) {\r\n            errorMessage.value = 'No se puedo cargar'\r\n            \r\n        }\r\n\r\n        isLoading.value = false\r\n    }\r\n\r\n    searchFriends( friendsId )\r\n\r\n\r\n    return {\r\n        errorMessage,\r\n        friends,\r\n        isLoading,\r\n\r\n        searchFriends\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default useFriends","import { render } from \"./Friends.vue?vue&type=template&id=11246e4c\"\nimport script from \"./Friends.vue?vue&type=script&lang=js\"\nexport * from \"./Friends.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Developers\\\\Personal\\\\08-compo-api\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","$setup","_createElementBlock","_hoisted_2","_toDisplayString","_Fragment","key","name","src","url","alt","_hoisted_4","_createVNode","_component_router_link","to","_hoisted_1","useFriends","friendsId","friends","ref","isLoading","errorMessage","searchFriends","async","id","value","data","axios","error","setup","route","useRoute","params","onBeforeRouteLeave","answer","window","confirm","watch","__exports__","render"],"sourceRoot":""}